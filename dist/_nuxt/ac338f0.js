(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{354:function(e,t,n){"use strict";n.r(t);var o=n(71),r=(n(51),n(17)),c=n(351),l={props:[],components:{"p-image":function(){return n.e(7).then(n.bind(null,353))}},data:function(){return{bottom:!1,loading:!1,photos:[],page:1,config:{},sol:-1,max:1e3,showImageDialog:!1,selectedImage:{},requesting:!1}},computed:{},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLatestSol();case 2:window.addEventListener("scroll",(function(){e.bottom=e.bottomVisible(),e.bottom&&(e.page++,e.getPhotos())})),e.getPhotos();case 4:case"end":return t.stop()}}),t)})))()},created:function(){},methods:{getLatestSol:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,"https://mars.nasa.gov/rss/api/?feed=raw_images&category=mars2020&feedtype=json&latest=true",t.next=4,e.$axios.$get("https://mars.nasa.gov/rss/api/?feed=raw_images&category=mars2020&feedtype=json&latest=true");case 4:data=t.sent,e.config=data,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},getPhotos:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.requesting&&0!=e.config.latest_sol){t.next=2;break}return t.abrupt("return");case 2:return e.requesting=!0,e.loading=!0,n="https://mars.nasa.gov/rss/api/?feed=raw_images&category=mars2020&feedtype=json&sol=".concat(e.config.latest_sol,"&page=1"),t.next=7,e.$axios.$get(n);case 7:r=t.sent,e.max=r.num_images,(c=[].concat(Object(o.a)(r.images),Object(o.a)(e.photos))).sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),e.photos=c,e.config.latest_sol--,e.loading=!1,e.requesting=!1;case 15:case"end":return t.stop()}}),t)})))()},showImage:function(image){this.selectedImage=image,this.showImageDialog=!0},bottomVisible:function(){var e=window.scrollY,t=document.documentElement.clientHeight,n=document.documentElement.scrollHeight;return t+e>=n||n<t},formatDate:function(e,t){return Object(c.a)(new Date(e),t)}}},m=n(68),d=n(92),v=n.n(d),f=n(345),h=n(322),w=n(316),_=n(346),x=n(311),I=n(352),V=n(347),y=n(126),C=n(110),D=n(348),k=n(319),j=n(349),O=n(350),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",e._l(e.photos,(function(t){return n("v-col",{key:t.imageid,attrs:{cols:"12",xs:"6",md:"4",lg:"3",xl:"3"},on:{click:function(n){return e.showImage(t)}}},[n("v-lazy",{attrs:{options:{threshold:.5},transition:"fade-transition","min-height":"200"}},[n("p-image",{attrs:{photo:t,srcset:t.image_files,camera:t.camera}})],1)],1)})),1),e._v(" "),n("v-dialog",{attrs:{"max-width":"80%",scrollable:""},model:{value:e.showImageDialog,callback:function(t){e.showImageDialog=t},expression:"showImageDialog"}},[e.showImageDialog?n("v-card",[n("v-card-title",[n("span",{staticClass:"caption"},[e._v(e._s(e.selectedImage.camera.instrument))]),e._v(" "),n("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),e._v(" "),n("span",{staticClass:"caption"},[e._v(e._s(e.formatDate(e.selectedImage.date_taken_utc,"MM/dd/yyyy HH:mma")))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:"",close:""},on:{click:function(t){e.showImageDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-card-text",{staticClass:"pb-0"},[n("v-img",{attrs:{src:e.selectedImage.image_files.full_res,"max-height":"98%"}})],1),e._v(" "),n("v-card-actions",{staticClass:"px-5"},[n("span",{staticClass:"caption"},[e._v("\n                    "+e._s(e.selectedImage.caption)+"\n                ")])])],1):e._e()],1),e._v(" "),n("v-dialog",{attrs:{value:e.loading,"hide-overlay":""}},[n("div",{staticClass:"text-center"},[e.loading?n("v-progress-circular",{attrs:{indeterminate:"",size:"50",width:"5",color:"blue"}}):e._e()],1)])],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:f.a,VCard:h.a,VCardActions:w.a,VCardText:w.b,VCardTitle:w.c,VCol:_.a,VContainer:x.a,VDialog:I.a,VDivider:V.a,VIcon:y.a,VImg:C.a,VLazy:D.a,VProgressCircular:k.a,VRow:j.a,VSpacer:O.a})}}]);